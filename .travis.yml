language: ruby
rvm: 2.3.0
script: bundle exec rspec
before_install:
- export DISPLAY=:99.0
- sh -e /etc/init.d/xvfb start
- psql -c 'create database whodoeswhat_test;' -U postgres
before_script:
- bundle exec rake db:migrate RAILS_ENV=test
deploy:
  provider: heroku
  api_key:
    secure: QszlMir/hpW9SGdO2/iFSp52Rs2V1+I0aYz9iKOZg9ftwKx6JSo/jXpyELiLm05M5ywzarj0M0JJsm1fBjZUZ1n17VZnKDJw2I6CU0SS06Jy/fDObNP+TpZoQYNazV4nIZIFLJyPKyefXVaTgCI/qp9zaXMIv5MOJ3O3IZB5hN3EaVez1Y9Z0OS3zPD1K+Am+tvpOTEMjCSD5mczkmYNw2W5XRvKZayyU33Qwm5bgHOWG7Kaepy2WvarZcIrTWUK6F6Iy/NBCQ2rq8Z5qfZwMszU07Pk2I11L0t0v8e07BoMv+Cu/tF2E52rMiZ2YUxYk7lRodAu39XYDPKXAAxxapAjxXci1Rr6bHxXOiEQpPIFkXu3gzyHKX2vppAh/0MiC2jG3H89jg8yKIs+cswobrCgQ0wqiugtr8AO6SkM7mMrKb3vUNKblnUK2BAOEOw+6hNn2w1fCJDS18uYCGLUEDhczEaVM4KV1QsYneiqPozf99a2zMAHjOvCx6/+4jZaDLQ9G6PX4wJs7zxR8QIcSJbxm8D3uoh+ktawwDNNp3tVegw5HF5omBFzwmaPLVTlOyVoZjioFI0CIplHBkJrbmM8M3VtIQczJZXyxHYeURS+GBc6OI4NT/9AHOtlo/Y2Kuq0D2jNux+g10ZvkR6elbq7QLWlSdu1NAhCa1ziSyA=
  app: whodoeswhat
  on:
    repo: hail2skins/whodoeswhat
env:
  global:
  - secure: Xz+sfQm9aka0Wo4w+XUunNT0F9GsMH/N+avIwriyxdxsbWpWcKxUaPLjwsBTJIDUpmXCkc2+3E7hOUQ07TonbmtSDK2b020J+rKCdZ6DmUtp2ahM+qEROBh0u/5bTrywG3nK1IUFXRQBqRVYe/IDjmfk15r+2XQQk+vksURND52bORug9GbZmH9oVbAVk2GmxCHYoH0hQF/fHn3Ayem2mwhLWnAtdefGzZlsZzau/NK8o3J2jKfrw4dlPgwAqiaap+BOHO9Iv5qCSXv+EQdL8CefR9VnXYVWOeXNRWQZVGNgpfCWxlk5ykzev5izb5hXWW+RfjlBUlKVTpu2i5XEpLL4FD71WJU//XFTm629430IlKKdCOInaCB6gn6OKDb/gxtYbiUIGaZMlQYmL/Oq+E5FsSvq9K6wJuR7S1b1XIwHYf63ZNb9PaAAhUYtQmbvGmA6L4nlBg0F2GfTbGfw6G+RCSHWoU7EDPREIENMjHebuAiOH+iQ2pcLz1ZaVT0GFd9vokIYrUo4hmPL7oI0QbT4w410txunfakgUCYQwFUZsoGqiRzlBvgaLnBTuV7QI3VaRJh6pcKzUDWTLpAyeFkBYCzLCAyYe4xwL7V38xkrTBtvyRz7TvKlUQU60hku/+nkci+yaHLSXBAxYQ43PVSZvBnw7iOXpZUjGkJjuyY=
  - secure: dVKLL9GsoX03/9ALSFLD7kd11xrkv6Xf8bjEbk3DeP2GG6z8vVf1wK360YXeqg9OqxOEl/j66BzHbFDA9CgC5Z5iNR6QoQEY3FOY1lAetEtfuF+wleLk9pZyhXdePR+DyJmyhD27cG3kiWjl4jZZ2oKNBfQE11V6eiZN6zn8p39Rsi9qfgqz8LIFnnuFpO6IzOlfp+cAVW3JY4L9r4YMl9yZy9vm/ksJStEoiHeuSZdo6OQJ8uHoKV3DxPjib+Fk8Vk6/DyyvUEqjzKZ7ZVFBBg7mvoipN3DpGzfvikRODCmj60O1dUHrPeIcXTitHPL/ztupuVOAsWxiwV7bVI7BXPdS7g6BDGe6Gq6rs8VCJcc/gL2fYLBRRwFupE8X70AAbxXadkJCdzDKhB0pda0SzLhrCyKU21Sj/tntJAaopuB+GZApV6It054Qu2doBBOvnrTi4ti/mzrNJEwB/SHSELmNYTTbLvIfy6UQpeEZfP9RDChLGbKuFhAl8XuiuCl9Ru7S49FudBgEyT5bu5jUDlgc2Bwpkp7fnS/R+ok94UKwzfPWxZ6K9InAlpIkkpBtOnL/BXddzzX03ADLRuTBZQmL9v9ub5G1E5X6xUs8jW9RBiXuFiaVZ9czch9826vmksPEDppGlgphjoCqyUQMwgSGm5GF13lFdv516ezmLI=
  - secure: eTy0D6QRf/+noGt/Q7zWTj+GtLBUEwHwG9vxdPowYS+sC53C+pgO34zMWNfKja19VLxcE7kxAADyHzYcQ1csUO3DvjVIArwwnBTH5sJIaIcANQKUL4gpcDNOH3RQjAJaXbPB+O/bMqOpYRSNnvglZ+B0aof3pPAMxsZuI1F2rQPD2KnaYiteJvTQc2ZY0GxcCfCllr19RHM7uXx/BXJEUtctyH3Eaya7JXWbkSxPLO7utLb7MLieOtWdC9EN9RvOy9yolktlP1H2Fqjpmji5Sr5Ko1lTpL3WQOsvzG25PtdTqUuGc6KVWqfRZvSRIHXdgX8DTw7694C76/CouPIGXTqgKWtt/0ME9EJpcbhDK+vlybexZABC7v2K7r1k7n8I8u/m9+56P86tLrJOWpACmTdLZDMWH9/x+tsxjg8k/ULDQ00qrRxXomJ2hyJ/ZJfZmeq/LLlXRKvMgv5KBtgW871q5PshiuycjdKpzH2rVIBsOcj6Vc/jil7PtnMkWIt7HfIFAfFzi/5LT7g+UQnzErVj+JXRlz7KGS9eXqUwBw9wP+mJ2sXg7azDadGChrsPrILw2zFSs06gRmbjXVFUE0YQY+HGWSSlDuUwodPGp7BxA9eqMw53PZRfrOThgJGwD6VwmfjoZBpYFe7oDurjMj4n49uVZw9atPssg9F7Ut0=
  - secure: g4u7LcCfHfWPI69ppOUsGTazBWuXKSK7AJfc5nnXC+q1vYd7/v0HmGk9mtgKPPCoRqnZCBR/aNAoVfvSMM2NKSjsHLZupYtPlCVYpGQfmR5q7Pj525QollLfPgXyScnrd60rq+BiQMEWzd28prBhZBMgmkyjL8IHH0kTYhK1sKAyYcBeo+9Kc2uJMd37jViRvd6lR6Z6CvWReu0v+ThCMnlSfi41hrT5xZlV87VbNcRdcC8N7Wr//ScdOX7y+UvWza+50SvbKYAlaedSY24g+JRjNnwIPik4ynb4tbSC10XVbJEGmH8ir5obZHuLlSrJ+jZMwRB0WJ3mgAiuVNt+pshIPUnnerFvDcNOCjt3Urj7Q+0hsc+43hyCDrFV1L00onBJR3vZqpotnrLh5B+gPbhjsZNU8475XxNaNyG2hSML5DnvAfdpM6hb34i22U6K/IlTUz6qSROMLsyMF1cDCXJpYb7J+63fbQZ71yDV4/xves6gerDIHemP0C7oJvrFt35a+fQLR6LVp+tu/6sMOMWFBdNovUbcm0GLPIlKhQtaTFqDNXwC2IUFQAUycgoplTFSDc3r0O+p8U5cm54KYhl7Kwoly4PZMkIz6oSNX4gtcmiy7rdw2KPONr5ProSS3/x0VHQN8plH8V+/MYRiHv9c4WVzqA3N4tTYc6jV75w=
  - secure: p17kDq28ZdweOyntb+ABhlrD2KbhSFbPKY8cfF0ZOdJ2NDxKEx1HFE8LydAoVQVRy2IxT1T6mZUq4MdvaUxDB7GBGmvfZShHdBhPUgXJcfF81OJVLJBFHkOqiG74mLcVZ01LOjCVc4Phym16mesGHNCXB+EXuz3sn55Q1Nno4NIgVpO5H/vvREgSXvsDwJH0OT2Nf3fdlKgchpPne9xCReryzodAraMm7QAhvMJmwkpHWYS0VtCSpdPqE+4D+xNL2Gl8b2CJixeLuHucvdUvMIBZbhBcKPDqyW80HL2YoOK+iC/ABd9k3NWoARVp+eEE+Truf1K8mHqVxwmKnlUnkbFzgocdT65kQkbl2usRTkt4aYwC/NNXVkR2goX186hyTff+su1ctNWVy6Qa1fo2YFzQIPbMNF2JaU/Bwb5wIvNtZ/VLMtBT14rBYnHYUeDt3BoitIZTYPEdty5tXpQ0LIGhaAqWNP7lD3fhoY2G5AfxvK47sR9kZleB5uz+cfy5kgu/yKRde6Gw1bMakeEJXTPRVQ+5XHtfSCI/87dLite2O9wx2QKk0yW8c93HlA75/SqZKAmiSSwF8LaM7QBwbpDFV46M/vzOXieopy21oNmUwMV6Anzncm6mKMvPmHmLOD1lrYVgemK6/k+Obiac6PVQ2c6feCoLxEaOc+q5f2w=
  - secure: aNhvaACgzaYVSfJrH6ltpWFmdwO/wUBfGPlWfJ2UjuSQWwm6wDohpqP010vQGjAybkA87TDvjlIkSwWZJKmmDlXDM9/FZgEU2mgzG5wiAgUcB9I+3rMZamrTHbS9VTewcgwXkUDSznyBUK3Zesw6RKz81CID5y9Ru3oryThIWxmDacpi+FVHyK4uR7yat2WUEReEDHLYHUYnR3z2pw7kFe+xVnELehubUKkHs3BG0ZSG8dE0g2Fk8edw8VoqUYm99QTIXQU+2fXLNIQjUVDe1vFzlpuJiP3cF8QX/8geH80sC14N5ZWF4JvO+V9MmlYWwaBZGY7xMk4mE8wPWupDf04S3DdBP6XHkHjwXyrKM30mW75sPKiXlstGTu5iFJ6/fSW/vx3+tohAqSMgF6yR2VK0yXAuCIIF3gZCYdmY8BD/1TN67c1I20A9MlS5/Dg9GucoCD8w/Y8CZtG7hZczgFKfG7jlaCS6cNP2uxcIzFDZRDCmvyzhCsK2qeyO1evwRoIUWELTGGpD1Ya2iQXhINY2Dh2NUK75WMDLf1Kct5/S12ighM+rLo2+7GhZdwaBKt3crUqbznZJCE44xqHtEnUdvHADir4ETSIeNHF/LCZvJhLfCL5sW0lCa9wr5XgPiliTiWaNipSGiBJuvhR4FpdEMNe8dYvdSypvTZsqXiA=
  - secure: tyvLf3CtFktVw7HTCwC7ZHsdo9plL9n5Q2JLCSRrkFgYD8mKHPJuy/iYzN//7QLPySz9OapRNlWgHQQGQnRrsU8wnIk5UsHFkQeL8HFP4r07Mqvpu8qoSQKoCC2EOBYQmsZIr1sNrFtRv2M5hRTCU39OdQLT1CfDhncXRSdMfIXZwsJ8YgyGO4l1cSisyp2PkKeZLM5HB9IPjuqDxErd8BdPCHIKBvZis3AnvWTx2DORmpgQGeVhfwxOC7LtTfQrjJeCQCr3aC7/5mvawsZl/N0eUDaoMBFwHYTQwyHOHuKM66w0+Fxax1D1tHgWq/21C513dUCCFE0p6QrxliBKgNjxuFzbHLiC+PI8xlsJ/9J5gSyKnV7ILzO0C2cf4P79nSj9BnSKgo4JbRiXfkl0ZzErZOE30Sqc1bat2JsRDi3KUJ7Y62nrYsN4BIb3219jRCPad9OdC6gQZ2uCcmnvJ9aeL1Kpo9ez+jPb0MfJ5/VLwMDw1EblY72IoCZNWv2ojKiQV774JYCnz45BMNSr6mmBdBGkY4Hr+XQ6S9/ZiSoPzCCvY8hGtd++mTPS5BuLW0up+BWlILzLUHsljPnoliZuypbilWOCD3nwnxYE9MEe5rqB/qtw0474VQldcrzO8152kVTYvt0eyu+WFBCuzg8rvLQeN+8Ez2owum/QkeM=
  - secure: wzI4tAMESXvn5AFSePURewFDJt/57ELcPXzXZn2GE7DsdvI224UMVg3n1QDLGqbSHb6TsQ4uXklFrYGOw9hh6GTkkyeLBH+RAzhqtD4cvovZWmXTvqsdK8Rfkmsmk2UA1ygPTIxsZXEQou/Y6KAv/8Jp3uxnDkorXyfzzXAP7lyxTX7Ig4VQnPRxm7tqjTLa8jV6K6idKMWOpHJ6rjjhUNnw8J3+ZrYcS4VUXrxj6ef3ol+CvRjaF782xnTyk2/5aHjS0BEMcunGTA/58iF7C3pq2ZYCrfqclT4+ywz8M4gOu0j8YZ7ZsChTh2VyNp5kRMc4ZCmKDzOuhgE+q9qxuZear45FTgWWMgWfKme1fBnd20SsQzK85MbOGRX62MZti2UxyGWlViiSdoc/HaxFg7Q3ILHfV1fsYpMqqoC+CK7YmIN2L9JnKlT8sDdOJ1JP4RsTQFH+HTTLbZKYxRE3pPDMLA1S8efMF7z+IdNQP7V+UtHl6H45uJZafdlKdd1XXWQw07JqS1ZaTNkKIbO8ZTVOjL71WkJ1RgpmZ4hIaWsRLeXiLNv5DxnmthySN4QScTkxnh222BYuuEN9S/3qxItvUDvPvO7sz9XZJ3e4c/wvNJEPhx0jiBWIMPUKNWPbkTVSi1hD7dfbCleutTBMc5R6fTyki1Ay352kwKBZ+ao=
  - secure: fPhdl35rLLOIjFFHpJ2y8RDWSszUWkj+QtAvFeR5/7b3fbW3bvlGpheEYQpy/3/UnbTQt88bk5BLcrA7IXSAK2HM/x+nC1F5z+6UtyzHNNGViFIOjjvxE3auGn8qoeQJainBHB4YSv7VmVoDRXSxILPurlSkJW5yosqMbqk7x6foylJxua8gmThObiwHp2+apegryZfbrZiVNP3BHAoiKwN1PyITRRo1RNVD9UkHtUWPhFfTyPppRzPju5cfAD4Wf6AH8yYIbI5HZBSR/KXhkUEvQOIo6oN4VST8LH9m7/+1J0Een9j5DSFY4ho7G/PoJCIozwhSSXa1v/ogCXGahkIEq1G+MuAa1ION+0IrVUheS57/CqF3JwJfd/XLkrBBj42nOYVoZVsh5qgc9yES3cjrpzmyVxHwsw17BPm5RiizCrcUZbmbE9Ha82SyCVJqe7TRNJ27d05fOnCGZ6zeZdCTKQMYz23Cgi3X/KgQddXzeujxq62R5jIGeFSkOIqha8QleUTC1l4p2qNlnQCj2IZq6JI+p0axCMBgh6SbO5ez61G05AhcG4rCmTqAt2FQJDofp4aJ8kaOpweVYJtcWhDHhzFOElo6A5/Cog+hQ7k+eOXTNMZdENDmnmiHoMNsBYTd+yhJ9xwH2efmfQALDFkKnBKe3Za0SaQBu8i9CT4=
